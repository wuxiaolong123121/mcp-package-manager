# MCP 包管理器项目

## 项目概述

这是一个基于 MCP (Model Context Protocol) 的包管理器项目，集成了多种 AI 工具和服务，包括文档生成、工作流管理、角色管理等功能。

## 项目结构

```
mcp-package-github/
├── .github/workflows/ci.yml    # GitHub Actions CI配置
├── .gitignore                  # Git忽略文件配置
├── src/                        # TypeScript源代码
│   ├── cli/                    # 命令行接口
│   ├── core/                   # 核心功能模块
│   ├── mcp/                    # MCP 服务器相关
│   └── types/                  # 类型定义
├── dist/                       # 构建输出文件
├── 角色工作记录/                # AI角色工作记录文档
│   ├── UI设计师工作记录.md
│   ├── 产品经理工作记录.md
│   ├── 前端工程师工作记录.md
│   ├── 后端工程师工作记录.md
│   ├── 技术总监工作记录.md
│   └── 测试工程师工作记录.md
├── mcp.json                    # 清理后的MCP服务器配置
├── package.json                # 项目依赖配置
├── tsconfig.json               # TypeScript配置
├── README.md                   # 项目说明文档
└── 说明文档.md                 # 详细中文文档
```

## 功能特性

### 1. 文档生成器 (DocumentGenerator)
- 支持生成多种类型的项目文档
- 提供多种文档模板
- 支持自定义文档需求

### 2. 工作流引擎 (WorkflowEngine)
- 创建和管理项目工作流
- 支持自动和手动执行模式
- 提供工作流状态跟踪

### 3. 角色管理器 (RoleManager)
- 管理 AI 角色配置
- 支持角色能力查询
- 提供角色激活功能

### 4. MCP 客户端管理器 (MCPClientManager)
- 管理多个 MCP 服务器连接
- 支持不同服务器类型 (stdio, sse)
- 提供工具调用接口

### 5. AI 角色工作记录系统
- 自动记录各AI角色的工作过程和成果
- 包含产品经理、前端工程师、后端工程师、UI设计师、技术总监、测试工程师等角色
- 提供标准化的工作记录模板

## MCP 服务器配置

项目支持以下 MCP 服务器：

### 代码工具类
- **TestSprite**: 测试相关工具
- **Puppeteer**: 浏览器自动化
- **Playwright**: 端到端测试
- **chrome-devtools**: Chrome 开发者工具

### 平台集成类
- **GitHub**: GitHub 操作工具
- **Sequential Thinking**: 顺序化思考工具

### 文档服务类
- **context7**: 文档查询和库信息获取

## 安装和使用

### 安装依赖
```bash
npm install
```

### 构建项目
```bash
npm run build
```

### 启动 MCP 服务器
```bash
npm run mcp
```

## 配置说明

### MCP 服务器配置 (mcp.json)
每个 MCP 服务器需要配置以下信息：
- `type`: 服务器类型 (stdio, sse)
- `command`: 启动命令
- `args`: 命令参数
- `env`: 环境变量 (可选)

### 敏感数据处理
配置文件中的敏感信息已替换为占位符：
- `YOUR_TESTSPRITE_API_KEY_HERE`
- `YOUR_GITHUB_TOKEN_HERE`
- `YOUR_CONTEXT7_API_KEY_HERE`

使用前请替换为实际的 API 密钥。

## API 文档

### MCPClientManager

#### 构造函数
```typescript
constructor(config: MCPServerConfig[])
```

#### 方法
- `initialize()`: 初始化所有 MCP 服务器连接
- `getServerStatus(serverName: string)`: 获取指定服务器状态
- `listTools(serverName: string)`: 列出服务器提供的工具
- `callTool(serverName: string, toolName: string, params: any)`: 调用指定工具

### DocumentGenerator

#### 方法
- `generateDocument(type: string, requirements: any)`: 生成指定类型的文档
- `getAvailableTemplates()`: 获取可用文档模板

### WorkflowEngine

#### 方法
- `createWorkflow(name: string, type: string, description: string, requirements: string)`: 创建工作流
- `executeWorkflowStep(mode: string)`: 执行工作流步骤
- `getWorkflowStatus()`: 获取工作流状态
- `getWorkflowReport()`: 获取工作流执行报告

### RoleManager

#### 方法
- `getAvailableRoles()`: 获取可用角色列表
- `activateRole(roleName: string)`: 激活指定角色
- `getRoleCapabilities(roleName: string)`: 获取角色能力

## 贡献指南

1. 提交 Issue 前请先查看现有 Issue
2. 代码修改需要包含相应的测试
3. 遵循项目的代码规范
4. 更新相关文档

## 许可证

MIT License

## 版本历史

- v1.2.4: context7 修复完成，所有 MCP 服务器正常运行
- v1.2.3: 模拟模式清理完成，功能测试全面通过
- v1.2.2: 修复 context7 连接问题
- v1.2.1: 添加 context7 工具支持
- v1.2.0: 完成基础功能开发
- v1.1.0: 添加工作流管理功能
- v1.0.0: 初始版本发布